<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Access-Control-Allow-Origin" content="*">
<title>登录</title>
<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
</head>
<body style="background: #00BFFF;">
	<input type="button" value="管理员登录"
		style="width: 10%; height: 50px; margin-left: 1300px; margin-top: 20px; text-align: center; font-size: 23px; background-color: #4682B4; color: #fff;"
		onclick="jump()" />
	<div
		style="width: 350px; height: 450px; background-color: #00BFFF; margin-left: 600px; margin-top: 30px">
		<div
			style="width: 80%; height: 80px; background-color: #00BFFF; float: left; margin-top: 20px; margin-left: 10%; font-size: 60px; text-align: center; line-height: 70px; color: #fff">Welcome</div>
		<input id="phoneNumber" placeholder="请输入手机号" type="text"
			style="width: 80%; height: 40px; margin-left: 9%; margin-top: 50px" />
		<input id="password" placeholder="请输入密码" type="text"
			style="width: 80%; height: 40px; margin-left: 9%; margin-top: 20px" />
		<input type="button" value="立即登录"
			style="width: 80%; height: 50px; margin-left: 10%; margin-top: 20px; text-align: center; font-size: 30px; background-color: #4682B4; color: #fff;"
			onclick="get()" /> <input id="zhusce" type="button" value="注册"
			style="width: 80%; height: 50px; margin-left: 10%; margin-top: 20px; text-align: center; font-size: 30px; background-color: #4682B4; color: #fff;"
			onclick="getzhuce()" />
	</div>
</body>
<script>

	function get() {
		var data = {
			"phoneNumber" : $("#phoneNumber").val(),
			"password" : $("#password").val()
		};
		var url = "http://localhost:8080/maven00/user/loginUser";
		$.ajax({
			type : "get", //指定提交的类型 get对应 doGet()方法，post--->doPost()犯法
			url : url, //传输地址的URL
			data : data, //data代表我们的数据  key -value类型的数据
			dataType : 'JSON',
			async : false, //success和error代表是否返回成功，既后台给前台传输数据是否成功
			success : function(res) {
				console.info(res);
				if(res.code == "0000"){
					alert("登录成功！");
					window.location.href = "bookRoom.html";
				}else if(res.code == "9999"){
					alert("输入信息不可为空！");
				} else{
					alert("登录失败！");
				}
			},
			error : function(XMLHttpRequest, textStatus, errorThrown) {
				alert("登录失败！");
			}
		});
	}
	function getzhuce() {
		window.location.href = "register.html";
	}
	function jump() {
		window.location.href = "loginadmin.html";
	}
</script>
</html>